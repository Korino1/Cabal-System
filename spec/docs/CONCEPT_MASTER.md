---
id: concept_master
updated: 2026-02-13
owner: conceptualizer
---
# Обобщённый концепт (Concept Master)

> Этот документ должен стать самодостаточным источником концепта (без кода).
> Математические утверждения, формулы, коридоры параметров и доказательная база хранятся канонично в `spec/docs/CONCEPT_MATH_PROOF.md`.

## 1) Первичные материалы (источники)
Шаблон списка:

| Path | Type | Purpose |
| --- | --- | --- |
| .memory/… | text/diagram/code/etc | краткое назначение |

## 1.1) Приоритет источников
1) `CONCEPT_MASTER.md` и `spec/docs/CONCEPT_MATH_PROOF.md` — каноничные первоисточники; проект строится по ним.
2) Первичные материалы из списка выше — вторичные источники, используются только для верификации.
3) Прочие файлы проекта — справочные, не определяют концепт.

## 2) Цель системы
- TODO

## 3) Ключевые блоки и роли
- TODO

## 4) Последовательность работы и взаимодействия
- TODO

## 5) Ограничения и допущения
- TODO

## 6) Сквозные правила (канон для каждого исполнителя на любой итерации)
Сквозные правила обязательны для всех ролей и всех этапов: концепт → схемы → функции → код → тесты → QA.

### 6.1) Категорические запреты (если применимо)
Запрещено использовать (методики/техники/софт/сервисы/библиотеки/зависимости/подходы):
- TODO: список запретов от Пользователя (если нет, явно написать «нет»)

### 6.2) Разрешённые инструменты и ограничения на зависимости (если применимо)
- TODO: разрешённый стек/библиотеки/лицензии/ограничения на внешние зависимости

### 6.3) Запрет имитаций/упрощений в реализации (обязательное)
- Запрещены заглушки, «временные» подмены логики и незаявленные упрощения математики/функций (канон см. `.memory/LOGIC_PROTOCOL.md`).

### 6.4) ISA/SIMD/микроядра (если применимо)
- Целевые CPU/микроархитектуры: TODO (например: Zen4).
- Политика SIMD/ISA (требования и fallback): TODO
  - SIMD здесь понимается как полный регистровый план: GPR/flags, XMM/YMM/ZMM, AVX-512 mask-регистры, стек/ABI, адресация, prefetch/alignment.
  - Default (если не запрещено Пользователем): AVX-512 fast-path обязателен на всех целевых архитектурах, где AVX-512 поддерживается.
  - Обязателен fallback: AVX2 → scalar (если целевые платформы требуют).
  - Поднаборы AVX/AVX-512 выбираются по задаче (F/DQ/BW/VL/VNNI/VBMI/BF16 и т.п.); запрещено «использовать первый попавшийся ISA» без обоснования.
  - Правила выбора пути: compile-time (features/targets) и/или runtime-dispatch (CPUID) — зафиксировать явно.
- Политика реализаций микроядер/ядер: TODO
  - Default (если не запрещено Пользователем): микроядра/ядра должны иметь варианты реализаций: `asm`, intrinsics, `C`, `C++` (выбор применимости фиксируется явно).
- Каноничные архитектурные заметки (если применимо):
  - Zen4: `arch/zen4/zen4_registers.md`

### 6.5) Мультиязычная математическая верификация (если применимо)
- Для математических обоснований (леммы/доказательства/ограничения) используется пятиязычная проверка: RU → EN → ZH → DE → FR.
- Обязательна фиксация разночтений между языковыми версиями (термины/кванторы/ограничения/граничные условия).
- Итоговое решение принимается только после синтеза пяти версий (выбор лучшей или совокупный вариант с обоснованием).
- Итог метода неизменен: глобальный синтез для нахождения корректного решения.
- Канон итоговой математики фиксируется в `spec/docs/CONCEPT_MATH_PROOF.md`.
- После proof-проверки обязателен отдельный критический аудит математики (`mathematician`): слабые места/неучтённые параметры + 2 варианта решения для Пользователя.
- Если Пользователь предлагает свой метод, он принимается в рассмотрение и отдельно валидируется математиком-критиком.

### 6.6) Обновление канона после выбора Пользователя (обязательное)
- Если после proof/math-critique Пользователь выбрал вариант решения, а Математик уточнил значения/параметры, эти изменения обязаны быть синхронно внесены:
  - в `spec/docs/CONCEPT_MATH_PROOF.md` (формулы/ограничения/коридоры параметров);
  - в `spec/docs/CONCEPT_MASTER.md` (обновлённый концепт и применимые ограничения).
- Обновление канона выполняется в C-0 до перехода в GA-1.
- Запрещено переносить такие обновления в GA-5: GA-5 описывает функции и не изменяет концепт.
- Если после C-0.6 Пользователь меняет вариант/параметры, C-0.2..C-0.6 выполняются повторно до актуального синхронизированного канона.

### 6.7) Режим обработки CONSULT при старте GA-1 (обязательное)
- Перед первой постановкой задач в GA-1 Пользователь выбирает режим маршрутизации CONSULT:
  - `USER_TRACKING`: Пользователь отслеживает прогресс и отвечает на CONSULT напрямую.
  - `YOLO`: каждый CONSULT маршрутизируется Оркестратору.
- Если выбран `YOLO`, Оркестратор обязан до активации режима запросить у Пользователя уточнение и расширение сквозных правил.
- Дополнительные правила `YOLO` являются дополнением к существующим правилам секций 6.1..6.8 и не отменяют их.
- Режим `YOLO` активируется только после фиксации дополнений к сквозным правилам и записи факта активации в `PHASES/GA-1/WORKLOG.md`.
- После активации `YOLO` каждый CONSULT адресуется Оркестратору, а Оркестратор назначает профильного исполнителя для решения CONSULT-задачи с обязательным соблюдением всех сквозных правил.

#### 6.7.1) Текущая конфигурация маршрутизации CONSULT
- mode: `USER_TRACKING` (default до явного выбора)
- yolo_additional_rules: `none`
- yolo_activated_at: `n/a`

### 6.8) Harness-протокол правок (обязательное)
- Все правки кода и документации выполняются через `spec/docs/EDIT_HARNESS.md`.
- Перед правкой обязателен `read_range` (`scripts/harness_read.ps1`) с фиксацией `range_hash`.
- Применение правок выполняется только через `scripts/harness_apply.ps1` с `expected_hash`.
- При несовпадении хеша (`stale edit`) правка отклоняется: повторить read-range, пересобрать правку, при конфликте оформить `CONSULT`.
- Запрещены «слепые» замены без проверки хеша диапазона.
- Все пути в спецификации правок должны быть repo-relative (без привязки к локальным путям пользователя).

## 7) Опросник для уточнения сквозных правил у Пользователя (заполняется при создании/уточнении концепта)
Ответы фиксируются в секции 6 и становятся каноном сразу после записи.

Вопросы (наводящие и уточняющие):
- Есть ли методики/техники, которые категорически запрещены в проекте (например: эвристики вместо доказуемых критериев, вероятностные приближения, ML, симуляции, численные методы, оптимизации, параллелизм, SIMD, unsafe и т.п.)?
- Есть ли софт/сервисы, которые запрещены (облачные провайдеры, сторонние API, телеметрия, трекеры, конкретные продукты)?
- Есть ли библиотеки/фреймворки/зависимости, которые запрещены (конкретные списки, лицензии, типы зависимостей)?
- Есть ли требования «только своё» (запрет внешних зависимостей) или, наоборот, список обязательных библиотек/платформ?
- Есть ли требования к лицензиям зависимостей (MIT/Apache/GPL/проприетарные запреты)?
- Есть ли требования к безопасности/приватности (запрет сетевых вызовов, запрет отправки данных, запрет логирования чувствительных данных)?
- Есть ли требования к математике: какие приближения допустимы/недопустимы; нужен ли строгий доказательный аппарат везде или только в ключевых местах?
- Нужна ли обязательная multilingual-проверка математики (RU/EN/ZH/DE/FR) и как разрешать разночтения между версиями?
- Нужен ли обязательный Harness-протокол правок (read-range + hash check + apply-by-spec) для кода и документации?
- Нужен ли обязательный этап «math-critique» после proof (слабые места + 2 варианта решения)?
- Если Вы предложите свой метод решения, требуете ли Вы обязательной независимой валидации этого метода математиком?
- Есть ли требования по ISA/SIMD: какие расширения обязательны/запрещены (SSE2/AVX2/AVX-512 и поднаборы), нужен ли runtime-dispatch по CPUID?
- Для микроядер/ядер разрешены ли `asm`, intrinsics, `C`, `C++`? Есть ли запреты/обязательные варианты?
- Какие целевые CPU/микроархитектуры обязаны поддерживаться (например: Zen4), и какие правила по регистровому плану/ABI (Windows/SysV)?
- На старте GA-1 какой режим маршрутизации CONSULT выбрать: `USER_TRACKING` или `YOLO`?
- Если выбран `YOLO`, какие дополнительные сквозные правила нужно добавить к секциям 6.1..6.8 до активации режима?
